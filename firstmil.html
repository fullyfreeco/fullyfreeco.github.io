<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Our Community</title>
    
    <!-- Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        .banner-ad {
            margin-bottom: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, p {
            text-align: center;
        }
        .success-message {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #4CAF50;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 1.2em;
            z-index: 1000;
        }
    </style>
</head>
<body>

<div class="success-message" id="successMessage">Success! Thank you for subscribing.</div>
<div class="banner-ad">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"></script>
        <!-- Banner Ad Placeholder -->
        <div id="bannerAd"></div>
    </div>
<h1>Join Our Community</h1>
<p>Transform your experience with our innovative solutions. Be part of a growing network that prioritizes your success.</p>

<div class="container">
    <form id="dataForm">
        <div class="row">
            <div class="col s12">
                <label>Email</label>
                <input type="email" id="email" required>
            </div>
        </div>
        <div class="row">
            <div class="col s12 center-align">
                <button type="submit" class="btn">Get Started Now</button>
            </div>
        </div>
    </form>
</div>

<!-- Materialize JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxcGLjFWAXrQ6m6BIEDuqBQTY5JzVrml1xlacz1cMIqAc04jb2DHEqtqDJPUI4oXOYk-w/exec";
    
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("dataForm");
        const successMessage = document.getElementById("successMessage");

        form.addEventListener("submit", async function (event) {
            event.preventDefault();
            
            const email = document.getElementById("email").value;
            const deviceType = /Mobi|Android|iPhone/i.test(navigator.userAgent) ? "mobile" : "desktop";
            const pageTitle = document.title;

            const formData = {
                email: email,
                deviceType: deviceType,
                pageName: pageTitle,
                timestamp: new Date().toISOString(),
            };

            try {
                await fetch(GOOGLE_SCRIPT_URL, {
                    method: "POST",
                    mode: "no-cors",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(formData),
                });

                $(successMessage).slideDown(400).delay(3000).slideUp(400, function() {
                    window.location.href = "thanks.html";
                });
            } catch (error) {
                alert("Error: " + error.message);
            }
        });
    });
</script>

</body>
</html>
